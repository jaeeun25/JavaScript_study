<!DOCTYPE html>
<!-- 
	Geolocation API
		
		. 위치를 추적하기 위해 사용한다.
		. 사용자의 허가를 요구하는 명시적인 함수를 제공하지는 않는다.

		. navigator.geolocation
			. coords.latitude : 위도
			. coords.longitude: 경도
			. coords.altitude : 고도
			. coords.heading
			. coords.speed
			-----------------------
			getCurrentPosition(successCallback, erroCallback, options)
					- successCallback(){} : 성공했을 때 호출되는 함수
					- erroCallback(){}	  : 실패했을 때 호출되는 함수
					(오류코드)
						. 위치 정보 수집 권한을 얻지 못할 경우 1	 (Permission_denied)
						. 위치 정보를 얻지 못했을 경우 2
						. 제한 시간을 초과한 경우 4
						. 알 수 없는 경우
					- options : 선택사항
						. enableHighAccuracy = true/false
						. timeout : 정보파악에 대한 시간제한(ms)
						. maximumAge: 파악된 정보에 대한 제한시간 설정 (0: 항상 새로운 새로운 위치정보 요청)
						 
			watchPosition() : 위치가 변경될 때마다 업데이트되는 위치 정보를 지속으로 반환
			clearWatch() : watch 동작 종료

		. 사용자 위치 - Position객체
					. Coordinates객체
					. TimeStamp객체
					
			. Coordinates객체
				latitude	위도(null)
				longitude	경도(null)
				altitude	고도(null)
				---------------
				accuracy		   위도/경도의 오차범위
				altitudeAccuracy 고도의 오차범위
 -->
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<script>
			if(navigator.geolocation){
				navigator.geolocation.getCurrentPosition(success);
				alert("성공하셨습니다.");
			}
			else{
				alert("실패하셨습니다.");
			}
			
			function success(position){
				let lat = position.coords.latitude;		// 위도
				let lon = position.coords.longitude;	// 경도
				let acc = position.coords.accuracy;		// 정확도

				lat = lat.toPrecision(6);	// 유효한 6자리까지로 자름
				lon = lon.toPrecision(6);
				acc = acc.toPrecision(6);

				document.write(`<h1>현재위치: 위도 - ${lat}, 경도 - ${lon}</h1>`);
				document.write(`<h1>정확도: ${acc}</h1>`);
			}
		</script>
	</head>
	<body>

	</body>
</html>